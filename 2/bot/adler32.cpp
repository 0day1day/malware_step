#include "adler32.h"

DWORD adler32(unsigned char* buf, unsigned int buflength)
{
	DWORD s1 = 1;
	DWORD s2 = 0;

	for (unsigned int n = 0; n<buflength; n++)
	{
		s1 = (s1 + buf[n]) % 65521;
		s2 = (s2 + s1) % 65521;
	}
	return (s2 << 16) + s1;
}
